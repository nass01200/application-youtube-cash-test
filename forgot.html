<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mot de passe oublié • Dopeur Chaine YouTube</title>
<style>
body{margin:0;background:#0a0b10;color:#f5f5f7;font-family:system-ui,-apple-system,Segoe UI,Roboto,"SF Pro",sans-serif;display:flex;min-height:100vh;align-items:center;justify-content:center}
.card{background:#111319;border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:16px;max-width:420px;width:92vw}
.grid{display:grid;grid-template-columns:1fr;gap:10px}
input,button{background:rgba(255,255,255,.06);color:#f5f5f7;border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:10px 12px;font-size:14px}
button{cursor:pointer}
.primary{background:linear-gradient(90deg,#6a5cff,#3bc8ff);border:none}
.badge{font-size:12px;color:#9fa4b3}
</style>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL='https://obrhatwvdhkdcgpjrpou.supabase.co';
const SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9icmhhdHd2ZGhrZGNncGpycG91Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzODcwNjYsImV4cCI6MjA3ODk2MzA2Nn0.DkoXBYO_8OJP5CsOxspg1n2Wdh1HT5R3egxvsHeYuJM';
let supabaseClient=null;try{if(SUPABASE_URL&&SUPABASE_ANON_KEY){supabaseClient=supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY,{auth:{persistSession:true,autoRefreshToken:true}})}}catch(e){}
</script>
</head>
<body>
  <div class="card">
    <div class="grid">
      <label>Email</label>
      <input id="email" type="email" placeholder="email">
      <button id="sendBtn" class="primary">Envoyer lien de réinitialisation</button>
      <div id="status" class="badge"></div>
      <a href="login.html" class="badge">Retour connexion</a>
    </div>
  </div>
<script>
document.getElementById('sendBtn').onclick=async()=>{
  const email=(document.getElementById('email').value||'').trim()
  const s=document.getElementById('status');s.textContent=''
  if(!email){s.textContent='Email requis';return}
  try{const c=supabaseClient;const {error}=await c.auth.resetPasswordForEmail(email,{redirectTo:location.origin+'/login.html'});if(error){s.textContent=error.message;return}s.textContent='Lien envoyé' }catch(e){s.textContent=String(e?.message||e)}
}
</script>
</body>
</html>
